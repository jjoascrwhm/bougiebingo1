        name: document.getElementById('ticketName').value,
        email: document.getElementById('ticketEmail').value,
        phone: document.getElementById('ticketPhone').value || '',
        ticketQuantity: parseInt(document.getElementById('ticketQty').value),
        message: '',
        donationAmount: 0,
        sponsorTier: '',
        createdAt: new Date().toISOString()
      };
      
      if (window.dataSdk) {
        const result = await window.dataSdk.create(data);
        if (result.isOk) {
          showMessage('ticketMessage', 'Thank you! Your ticket reservation has been received. Check your email for confirmation.', true);
          e.target.reset();
        } else {
          showMessage('ticketMessage', 'Something went wrong. Please try again.', false);
        }
      } else {
        showMessage('ticketMessage', 'Thank you! Your ticket reservation has been received.', true);
        e.target.reset();
      }
      
      setButtonLoading('ticketBtn', false, 'Reserve Tickets');
    });

    // Donation form
    let selectedDonation = 0;
    document.querySelectorAll('.donation-btn').forEach(btn => {
      btn.addEventListener('click', () => {
        document.querySelectorAll('.donation-btn').forEach(b => {
          b.classList.remove('border-pink-500', 'bg-pink-500/20');
        });
        btn.classList.add('border-pink-500', 'bg-pink-500/20');
        
        const amount = btn.dataset.amount;
        const customContainer = document.getElementById('customAmountContainer');
        
        if (amount === 'custom') {
          customContainer.classList.remove('hidden');
          selectedDonation = 0;
        } else {
          customContainer.classList.add('hidden');
          selectedDonation = parseInt(amount);
          document.getElementById('donationAmount').value = amount;
        }
      });
    });

    document.getElementById('customAmount').addEventListener('input', (e) => {
      selectedDonation = parseInt(e.target.value) || 0;
      document.getElementById('donationAmount').value = selectedDonation;
    });

    document.getElementById('donateForm').addEventListener('submit', async (e) => {
      e.preventDefault();
      
      const amount = selectedDonation || parseInt(document.getElementById('customAmount').value) || 0;
      
      if (amount < 1) {
        showMessage('donateMessage', 'Please select or enter a donation amount.', false);
        return;
      }
      
      if (recordCount >= 999) {
        showMessage('donateMessage', 'System limit reached. Please contact us directly.', false);
        return;
      }
      
      setButtonLoading('donateBtn', true, 'Donate Now');
      
      const data = {
        type: 'donation',
        name: document.getElementById('donorName').value,
        email: document.getElementById('donorEmail').value,
        phone: '',
        ticketQuantity: 0,
        donationAmount: amount,
        message: '',
        sponsorTier: '',
        createdAt: new Date().toISOString()
      };
      
      if (window.dataSdk) {
        const result = await window.dataSdk.create(data);
        if (result.isOk) {
          showMessage('donateMessage', `Thank you for your generous $${amount} donation! A receipt will be sent to your email.`, true);
          e.target.reset();
          document.querySelectorAll('.donation-btn').forEach(b => b.classList.remove('border-pink-500', 'bg-pink-500/20'));
          document.getElementById('customAmountContainer').classList.add('hidden');
          selectedDonation = 0;
        } else {
          showMessage('donateMessage', 'Something went wrong. Please try again.', false);
        }
      } else {
        showMessage('donateMessage', `Thank you for your generous donation!`, true);
        e.target.reset();
      }
      
      setButtonLoading('donateBtn', false, 'Donate Now');
    });

    // Sponsor modal
    function selectSponsor(tier, amount) {
      document.getElementById('sponsorTier').value = tier;
      document.getElementById('sponsorAmount').value = amount;
      document.getElementById('sponsorModalTitle').textContent = `${tier} Sponsor`;
      document.getElementById('sponsorModalSubtitle').textContent = `$${amount.toLocaleString()} Sponsorship`;
      document.getElementById('sponsorModal').classList.remove('hidden');
      document.body.style.overflow = 'hidden';
    }

    function closeSponsorModal() {
      document.getElementById('sponsorModal').classList.add('hidden');
      document.body.style.overflow = '';
    }

    document.getElementById('sponsorForm').addEventListener('submit', async (e) => {
      e.preventDefault();
      
      if (recordCount >= 999) {
        showMessage('sponsorMessage', 'System limit reached. Please contact us directly.', false);
        return;
      }
      
      setButtonLoading('sponsorBtn', true, 'Submit Sponsorship');
      
      const data = {
        type: 'sponsor',
        name: document.getElementById('sponsorName').value,
        email: document.getElementById('sponsorEmail').value,
        phone: document.getElementById('sponsorPhone').value || '',
        message: document.getElementById('sponsorCompany').value || '',
        ticketQuantity: 0,
        donationAmount: parseInt(document.getElementById('sponsorAmount').value),
        sponsorTier: document.getElementById('sponsorTier').value,
        createdAt: new Date().toISOString()
      };
      
      if (window.dataSdk) {
        const result = await window.dataSdk.create(data);
        if (result.isOk) {
          showMessage('sponsorMessage', 'Thank you for becoming a sponsor! We will contact you shortly with next steps.', true);
          setTimeout(() => {
            closeSponsorModal();
            e.target.reset();
          }, 2000);
        } else {
          showMessage('sponsorMessage', 'Something went wrong. Please try again.', false);
        }
      } else {
        showMessage('sponsorMessage', 'Thank you for your sponsorship interest!', true);
        setTimeout(() => closeSponsorModal(), 2000);
      }
      
      setButtonLoading('sponsorBtn', false, 'Submit Sponsorship');
    });

    // Contact form
    document.getElementById('contactForm').addEventListener('submit', async (e) => {
      e.preventDefault();
      
      if (recordCount >= 999) {
        showMessage('contactMessageStatus', 'System limit reached. Please try again later.', false);
        return;
      }
      
      setButtonLoading('contactBtn', true, 'Send Message');
      
      const data = {
        type: 'contact',
        name: document.getElementById('contactName').value,
        email: document.getElementById('contactEmail').value,
        phone: '',
        message: document.getElementById('contactMessage').value,
        ticketQuantity: 0,
        donationAmount: 0,
        sponsorTier: '',
        createdAt: new Date().toISOString()
      };
      
      if (window.dataSdk) {
        const result = await window.dataSdk.create(data);
        if (result.isOk) {
          showMessage('contactMessageStatus', 'Thank you for your message! We\'ll get back to you soon.', true);
          e.target.reset();
        } else {
          showMessage('contactMessageStatus', 'Something went wrong. Please try again.', false);
        }
      } else {
        showMessage('contactMessageStatus', 'Thank you for your message!', true);
        e.target.reset();
      }
      
      setButtonLoading('contactBtn', false, 'Send Message');
    });

    // Initialize SDKs
    async function init() {
      // Initialize Element SDK
      if (window.elementSdk) {
        window.elementSdk.init({
          defaultConfig,
          onConfigChange,
          mapToCapabilities,
          mapToEditPanelValues
        });
      }
      
      // Initialize Data SDK
      if (window.dataSdk) {
        const result = await window.dataSdk.init(dataHandler);
        if (!result.isOk) {
          console.error('Failed to initialize Data SDK');
        }
      }
      
      // Apply initial config
      onConfigChange(config);
    }

    init();
  </script>
 <script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'9cd5db12c385c6a2',t:'MTc3MTAwMTc1MS4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script></body>
</html>

